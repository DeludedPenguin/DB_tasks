<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .task { 
            padding: 10px; 
            border-bottom: 1px solid #eee; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
        }
        .completed { text-decoration: line-through; color: #888; }
        input, button { padding: 8px; margin: 5px; }
        .delete-btn { background: #ff4444; color: white; border: none; padding: 4px 8px; }
    </style>
</head>
<body>
    <h1>{{ title }}</h1>
    
    <form method="POST" action="/add">
        <input type="text" name="task" placeholder="Add a new task..." required>
        <label>Do Date: <input type="date" name="do_date"></label>
        <label>Due Date: <input type="date" name="due_date"></label>
        <button type="submit">Add Task</button>
    </form>
    
    <h2>Your Tasks:</h2>
    {% for task in tasks %}
        <div class="task {{ 'completed' if task.completed else '' }}">
            <span>{{ task.name }}</span>
            <small>
                {% if task.do_date %}Do: {{ task.do_date }}{% endif %}
                {% if task.due_date %}Due: {{ task.due_date }}{% endif %}
            </small>
            <div>
                {% if not task.completed %}
                    <a href="/complete/{{ task.id }}">âœ“ Complete</a>
                {% endif %}
                <a href="/delete/{{ task.id }}" class="delete-btn">Delete</a>
            </div>
        </div>
    {% endfor %}
</body>
</html>